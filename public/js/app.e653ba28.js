(function(t){function e(e){for(var r,a,o=e[0],u=e[1],c=e[2],l=0,d=[];l<o.length;l++)a=o[l],i[a]&&d.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);m&&m(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(r=!1)}r&&(s.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},a={app:0},i={app:0},s=[];function o(t){return u.p+"js/"+({"admin-home":"admin-home","admin-login":"admin-login","admin-upload":"admin-upload"}[t]||t)+"."+{"admin-home":"e3368f10","admin-login":"360c4e9c","admin-upload":"46a36265"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"admin-home":1,"admin-login":1,"admin-upload":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="css/"+({"admin-home":"admin-home","admin-login":"admin-login","admin-upload":"admin-upload"}[t]||t)+"."+{"admin-home":"6ed798da","admin-login":"ac7d78ee","admin-upload":"51b66f1f"}[t]+".css",i=u.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],l=c.getAttribute("data-href");if(l===r||l===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[t],m.parentNode.removeChild(m),n(s)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){a[t]=0}));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise(function(e,n){r=i[t]=[e,n]});e.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(t),c=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}i[t]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var m=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("1356"),a=n.n(r);a.a},1356:function(t,e,n){},"365c":function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"getGameIndex",function(){return l}),n.d(r,"getGameDetails",function(){return d}),n.d(r,"clearGameDetails",function(){return m}),n.d(r,"uploadGameDetails",function(){return p}),n.d(r,"login",function(){return f});var a=n("bc3a"),i=n.n(a),s=n("c0d6"),o={baseURL:"/api"},u=i.a.create(o);u.interceptors.request.use(function(t){var e=s["a"].state.password;return e&&!t.headers["password"]&&(t.headers["password"]=e),t},function(t){return Promise.reject(t)}),u.interceptors.response.use(function(t){var e=t.data;return e},function(t){var e=t.response.data;return void 0!==e&&e?e.message?Promise.reject(new Error(e.message)):Promise.reject(new Error("服务器异常，严重错误")):Promise.reject(new Error("服务器异常，请检查网络连接"))});var c=u;function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return c({url:"/games",method:"get",params:{unit:t}})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c({url:"/games/".concat(t,"/"),method:"get",params:{group:e}})}function m(t){return c({url:"/games/".concat(t),method:"delete"})}function p(t,e){return c({url:"/games/".concat(t),method:"put",data:e})}function f(t){return c({url:"/verify",method:"get",headers:{password:t}})}e["a"]=r},"4e69":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("c3b0"),n("cd69"),n("da64");var r=n("2b0e"),a=n("8c4f"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-flex",{attrs:{xs12:"",sm6:"","d-flex":""}},[n("v-select",{attrs:{items:t.units,label:"选择单元"},on:{input:t.chooseUnit}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.games,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.id)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[n("router-link",{attrs:{to:{name:"game",params:{id:e.item.id},query:{groups:e.item.groups}}}},[t._v("\n          "+t._s(e.item.name)+"\n        ")])],1),n("td",{staticClass:"text-xs-right column-begin-at"},[t._v("\n        "+t._s(e.item.begin_at)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.participants)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.groups)+"\n      ")])]}}])})],1)},s=[],o=(n("6b54"),n("96cf"),n("3b8d")),u=n("365c"),c=n("1940"),l=n.n(c),d=n("db49"),m={name:"Home",data:function(){return{units:d["a"],headers:[{text:"序号",align:"left",sortable:!1,value:"id"},{text:"项目名称",value:"name"},{text:"比赛时间",class:"column-begin-at",value:"begin_at"},{text:"人数",value:"participants"},{text:"组数",value:"groups"}],games:[]}},computed:{unitId:function(){var t=this.$route.query.unit;return t&&parseInt(t)||null}},mounted:function(){this.fetchGames(this.unitId)},methods:{fetchGames:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,t.prev=1,t.next=4,u["a"].getGameIndex(e);case 4:this.games=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.$handleError(t.t0);case 10:null===e?this.$router.push({name:"home"}):this.$router.push({name:"home",query:{unit:e.toString()}});case 11:case"end":return t.stop()}},t,this,[[1,7]])}));function e(){return t.apply(this,arguments)}return e}(),chooseUnit:function(t){var e=d["a"].indexOf(t);e>0?this.fetchGames(e):0===e?this.fetchGames(null):l()("错误","页面错误，请刷新重试","error")}}},p=m,f=(n("cccb"),n("2877")),h=n("6544"),g=n.n(h),v=n("8fea"),b=n("0e8f"),x=n("b56d"),_=Object(f["a"])(p,i,s,!1,null,null,null),y=_.exports;g()(_,{VDataTable:v["a"],VFlex:b["a"],VSelect:x["a"]});var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("v-flex",{attrs:{xs12:"",sm6:"","d-flex":""}},[n("v-select",{attrs:{items:t.groupList,label:"选择小组"},on:{input:t.chooseGroup}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.parsedDetails,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.group)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.no)+"\n      ")]),n("td",{staticClass:"text-xs-right column-begin-at"},[t._v("\n        "+t._s(e.item.re_rank)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.name)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.team)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.performance)+"\n      ")]),n("td",{staticClass:"text-xs-right"},[t._v("\n        "+t._s(e.item.remarks)+"\n      ")])]}}])})],1)},C=[],k=n("cebc"),S={name:"Game",data:function(){return{headers:[{text:"组别",sortable:!1,value:"group"},{text:"编号",value:"no"},{text:"小组名次",value:"group_rank"},{text:"姓名",value:"name"},{text:"学校",value:"team"},{text:"成绩",value:"performance"},{text:"备注",value:"remarks"}],details:[]}},computed:{groupList:function(){for(var t=["全部"],e=this.groups||0,n=1;n<=e;n++)t.push(n.toString());return t},gameId:function(){var t=this.$route.params.id;return t&&parseInt(t)||null},groupId:function(){var t=this.$route.query.group;return t&&parseInt(t)||null},groups:function(){var t=this.$route.query.groups;return t&&parseInt(t)||null},parsedDetails:function(){for(var t=[],e=0;e<this.details.length;e++){var n=this.details[e],r=Object(k["a"])({},n);r.re_rank=e+1,t.push(r)}return t}},mounted:function(){this.fetchDetails(this.gameId,this.groupId)},methods:{fetchDetails:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,t.prev=1,t.next=4,u["a"].getGameDetails(e,n);case 4:this.details=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.$handleError(t.t0);case 10:r={id:e.toString()},a={},this.groups&&(a.groups=this.groups.toString()),null!==n&&(a.group=n.toString()),this.$router.push({name:"game",params:r,query:a});case 15:case"end":return t.stop()}},t,this,[[1,7]])}));function e(e){return t.apply(this,arguments)}return e}(),chooseGroup:function(t){var e=this.groupList.indexOf(t);e>0?this.fetchDetails(this.gameId,e):0===e?this.fetchDetails(this.gameId,null):l()("错误","页面错误，请刷新重试","error")}}},j=S,E=Object(f["a"])(j,w,C,!1,null,null,null),O=E.exports;g()(E,{VDataTable:v["a"],VFlex:b["a"],VSelect:x["a"]}),r["a"].use(a["a"]);var I=new a["a"]({routes:[{path:"/",name:"home",component:y},{path:"/game/:id",name:"game",component:O},{path:"/admin/login",name:"admin_login",component:function(){return n.e("admin-login").then(n.bind(null,"23b1"))}},{path:"/admin/index",name:"admin_index",component:function(){return n.e("admin-home").then(n.bind(null,"c732"))}},{path:"/admin/upload",name:"admin",component:function(){return n.e("admin-upload").then(n.bind(null,"3530"))}}]}),$=n("c0d6"),P=n("bb71"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{staticStyle:{width:"100vw"},attrs:{app:""}},[n("v-btn",{staticClass:"headline text-uppercase",attrs:{flat:""},on:{click:function(e){return t.$router.push({name:"home"})}}},[n("span",{staticClass:"mr-2"},[t._v("首页")])]),n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.$router.go(-1)}}},[n("span",{staticClass:"mr-2"},[t._v("返回")])])],1),n("v-content",[n("router-view")],1),n("v-footer",{staticClass:"app-footer"},[n("router-link",{attrs:{to:{name:"admin_login"}}},[t._v("\n      管理端入口\n    ")]),n("p",[t._v("Copyright©2002-2018 eeYes.net All Rights Reserved 版权所有 陕ICP备030061号")])],1)],1)},G=[],V={name:"App",data:function(){return{}}},A=V,T=(n("034f"),n("7496")),q=n("8336"),L=n("549c"),R=n("553a"),N=n("9910"),B=n("71d9"),F=Object(f["a"])(A,D,G,!1,null,null,null),M=F.exports;g()(F,{VApp:T["a"],VBtn:q["a"],VContent:L["a"],VFooter:R["a"],VSpacer:N["a"],VToolbar:B["a"]}),r["a"].use(P["a"],{iconfont:"md"}),r["a"].mixin({methods:{$handleError:function(t){return l()("错误","发生错误："+t.message,"error")}}}),new r["a"]({router:I,store:$["a"],render:function(t){return t(M)}}).$mount("#app")},c0d6:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62");r["a"].use(a["a"]),e["a"]=new a["a"].Store({state:{password:null,admin_edit_game:null},mutations:{savePassword:function(t,e){t.password=e},setAdminEditGame:function(t,e){t.admin_edit_game=e}},actions:{}})},c3b0:function(t,e,n){},cccb:function(t,e,n){"use strict";var r=n("4e69"),a=n.n(r);a.a},cd69:function(t,e,n){},db49:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["全部","第一单元","第二单元","第三单元","第四单元","第五单元","第六单元","第七单元","第八单元"]}});